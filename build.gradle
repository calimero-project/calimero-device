buildscript {
	repositories {
		mavenCentral()
		maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
	}
}

repositories {
	mavenLocal()
	mavenCentral()
	maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
}

ext.junitJupiterVersion = '5.5.2'

apply plugin: 'java-library'
apply plugin: 'maven'
apply plugin: 'eclipse'

group = 'com.github.calimero'
version = '2.5-SNAPSHOT'

sourceCompatibility = 11
targetCompatibility = 11

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'

compileJava.options*.compilerArgs = [
	'-Xlint:all',
	'-Xlint:-options',
	'-Werror'
]

compileTestJava.options*.compilerArgs = [
	'-Xlint:all',
	'-Xlint:-try',
]

test {
	useJUnitPlatform() {
		excludeTags 'knxnetip'
	}
}

dependencies {
	api "com.github.calimero:calimero-core:${version}"
	implementation 'org.slf4j:slf4j-api:1.8.0-beta4'
	
	testImplementation "com.github.calimero:calimero-core:${version}:tests"

	testImplementation "org.junit.jupiter:junit-jupiter-api:${junitJupiterVersion}"
	testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:${junitJupiterVersion}"
	testCompileOnly 'junit:junit:4.12'
	testRuntimeOnly "org.junit.vintage:junit-vintage-engine:${junitJupiterVersion}"
}
